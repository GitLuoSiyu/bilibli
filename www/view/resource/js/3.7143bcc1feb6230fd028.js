webpackJsonp([3],{FmXC:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("Xxa5"),r=e.n(a),n=e("mvHQ"),i=e.n(n),o=e("exGp"),c=e.n(o),u={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"payment-title"},[s("div",{staticClass:"left-line"}),this._v(" "),s("div",{staticClass:"payment-text",style:{fontSize:this.size+"rem"}},[this._t("default")],2),this._v(" "),s("div",{staticClass:"right-line"})])},staticRenderFns:[]};var m=e("VU/8")({name:"tips",props:["size"]},u,!1,function(t){e("nTsm")},"data-v-4f5efb08",null).exports,l=(Number,Number,Number,{name:"stats",props:{space:{default:0,type:Number},size:{default:.3,type:Number},score:{default:0,type:Number},count:{default:5}},data:function(){return{starsStyle:{marginLeft:this.space+"rem",marginRight:this.space+"rem",fontSize:this.size+"rem"}}},computed:{getStars:function(){var t=this.score;t>=4.9&&(t=5);var s,e=[],a=t%1!=0;s=parseInt(t/1);for(var r=0;r<s;r++)e.push("icon-star");for(a&&e.push("icon-star1");e.length<this.count;)e.push("icon-star2");return e}}}),v={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"rating-stars"},t._l(t.getStars,function(s,a){return e("i",{key:a,class:s,style:t.starsStyle})}))},staticRenderFns:[]};var p=e("VU/8")(l,v,!1,function(t){e("GRo2")},"data-v-0dca0a60",null).exports,f=(Number,Number,Number,{name:"progressItem",props:{count:{type:Number,default:5},orderCount:{type:Number,default:0},orderSum:{type:Number,default:0}},data:function(){return{reachRate:0}},components:{RatingStars:p},created:function(){this.reachRate=Math.floor(this.orderCount/this.orderSum*100),this.reachRate>100?this.reachRate=100:this.reachRate>0&&this.reachRate<5&&(this.reachRate=5)}}),d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"progress-item"},[e("div",{staticClass:"progress-stars"},[e("span",{staticClass:"star-count"},[t._v(t._s(t.count)+"星级")]),t._v(" "),e("div",{staticClass:"rating-star"},[e("rating-stars",{attrs:{size:.35,space:.05,count:t.count,score:t.count}})],1)]),t._v(" "),e("div",{staticClass:"progress-bar"},[e("div",{staticClass:"progress-line"},[e("div",{staticClass:"progress-reach-rate",style:{width:t.reachRate+"%"}})]),t._v(" "),e("span",{staticClass:"progress-count"},[t._v(t._s(t.orderCount)+"单")])])])},staticRenderFns:[]};var h=e("VU/8")(f,d,!1,function(t){e("j9j3")},"data-v-66c41413",null).exports,g=e("cGnO"),_=e("i67U"),C={name:"serviceEvaluation",components:{LineTitle:m,RatingStars:p,ProgressItem:h},data:function(){return{postmanInfo:{starNumList:[]},sum:0}},methods:{redirectToPayInfo:function(){var t=this;return c()(r.a.mark(function s(){var e,a;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=t.postmanInfo.courierNo){s.next=3;break}return s.abrupt("return");case 3:return s.next=5,Object(g.a)({courierNo:e});case 5:(a=s.sent).message===_.AUDIT_SUCCESS.CODE?t.$router.push({path:"/courier/preview",query:{basicInfo:encodeURIComponent(i()(a.result)),id:e}}):a.message===_.NOT_HAVE.CODE?t.$router.push({path:"/courier/payInfo",query:{name:encodeURIComponent(t.postmanInfo.courierName),id:e}}):a.message===_.AUDITING.CODE||a.message===_.AUDIT_FAILED.CODE?t.$router.push({path:"/courier/status",query:{status:a.message,message:a.result.statusMsg?encodeURIComponent(a.result.statusMsg):"",name:encodeURIComponent(t.postmanInfo.courierName),id:e}}):t.$vux.toast.text(a&&a.message?a.message:"获取银行卡信息失败","middle");case 7:case"end":return s.stop()}},s,t)}))()},getReward:function(){var t=this;return c()(r.a.mark(function s(){var e,a,n;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(g.b)({courierNo:t.$route.params.id});case 2:if("success"===(e=s.sent).status){for(n in t.postmanInfo=e.result,t.postmanInfo.starNumList=t.postmanInfo.starNumList.reverse(),a=0,t.postmanInfo.starNumList)a+=t.postmanInfo.starNumList[n].starNum;t.sum=a}else t.$vux.toast.text(e&&e.message?e.message:"获取快递员评价失败","middle");case 4:case"end":return s.stop()}},s,t)}))()}},created:function(){this.$route.params.id&&this.getReward()}},I={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"service-evaluation"},[e("div",{staticClass:"basicinfo"},[e("div",{staticClass:"basicinfo-title"},[t._v("近100单订单评价平均星级")]),t._v(" "),e("div",{staticClass:"rating-score"},[t._v(t._s(t.postmanInfo.avgEvaluate?t.postmanInfo.avgEvaluate:0))]),t._v(" "),e("div",{staticClass:"rating-score-starts"},[e("line-title",[e("rating-stars",{attrs:{size:.5,score:parseFloat(t.postmanInfo.avgEvaluate),space:.1}})],1)],1),t._v(" "),e("div",{staticClass:"rating-raise"},[t.postmanInfo.number>4.9?e("div",{staticClass:"rating-raise-tips"},[t._v("再接"+t._s(t.postmanInfo.number?t.postmanInfo.number:0)+"单5星订单")]):e("div",{staticClass:"rating-raise-tips"},[t._v("5星快递员继续保持")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.postmanInfo.number>4.9,expression:"postmanInfo.number > 4.9"}],staticClass:"rating-raise-desc"},[t._v("星级可升为5星")])]),t._v(" "),e("div",{staticClass:"basicinfo-menus"},[t._m(0),t._v(" "),e("div",{staticClass:"basicinfo-menu"},[e("span",{staticClass:"menu-content"},[t._v("前"+t._s(t.postmanInfo.avgEvaluateRanking?t.postmanInfo.avgEvaluateRanking:"0%"))]),t._v(" "),e("span",{staticClass:"menu-tips"},[t._v("您的排名")])])])]),t._v(" "),t.postmanInfo.serviceProjects&&t.postmanInfo.serviceProjects.length>0?e("div",{staticClass:"raise-list"},[e("div",{staticClass:"raise-list-title"},[e("line-title",{attrs:{size:.35}},[t._v("\n        您还需要提升的服务项目\n      ")])],1),t._v(" "),e("div",{staticClass:"raise-items"},t._l(t.postmanInfo.serviceProjects,function(s,a){return e("div",{key:a,staticClass:"raise-item"},[t._v("\n        "+t._s(s)+"\n      ")])}))]):t._e(),t._v(" "),t.postmanInfo.starNumList&&t.postmanInfo.starNumList.length>0?e("div",{staticClass:"rating-sum",style:{marginTop:t.postmanInfo.serviceProjects&&t.postmanInfo.serviceProjects.length>0?"0.5rem":"-1.6rem"}},[e("div",{staticClass:"rating-sum-title"},[e("line-title",{attrs:{size:.35}},[t._v("\n        近100单累积评价星级\n      ")])],1),t._v(" "),e("div",{staticClass:"rating-progress-list"},[e("div",{staticClass:"rating-progress-list"},t._l(t.postmanInfo.starNumList,function(s){return e("progress-item",{key:s.starlevel,attrs:{count:s.starlevel,orderCount:s.starNum,orderSum:t.sum}})}))])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"basicinfo-menu"},[s("span",{staticClass:"menu-content"},[this._v("5.00")]),this._v(" "),s("span",{staticClass:"menu-tips"},[this._v("优秀小哥平均星级")])])}]};var b=e("VU/8")(C,I,!1,function(t){e("GZwA")},"data-v-7884b662",null);s.default=b.exports},GRo2:function(t,s){},GZwA:function(t,s){},cGnO:function(t,s,e){"use strict";e.d(s,"a",function(){return r}),e.d(s,"d",function(){return n}),e.d(s,"e",function(){return i}),e.d(s,"c",function(){return o}),e.d(s,"b",function(){return c});var a=e("GVVA"),r=function(t){return Object(a.a)("/phonerest/reward/courierCardStatus",t)},n=function(t){return Object(a.a)("/phonerest/reward/msgVerification",t)},i=function(t){return Object(a.a)("/phonerest/reward/fileUpload",t,{"Content-Type":"multipart/form-data"})},o=function(t){return Object(a.a)("/phonerest/reward/commitAddCourier",t)},c=function(t){return Object(a.a)("/phonerest/courier/queryCourierEvaluateReward",t)}},j9j3:function(t,s){},nTsm:function(t,s){}});